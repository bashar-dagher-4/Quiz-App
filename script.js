        const quizData = {
            general: [
                {
                    question: "ما هي عاصمة فرنسا؟",
                    options: ["لندن", "برلين", "باريس", "مدريد"],
                    answer: 2
                },
                {
                    question: "ما هو أكبر كوكب في المجموعة الشمسية؟",
                    options: ["الأرض", "المشتري", "زحل", "نبتون"],
                    answer: 1
                },
                {
                    question: "من هو مؤلف رواية 'البؤساء'؟",
                    options: ["تولستوي", "فيكتور هوغو", "ديستويفسكي", "شكسبير"],
                    answer: 1
                },
                {
                    question: "ما هو العنصر الكيميائي الذي رمزه 'O'؟",
                    options: ["ذهب", "فضة", "أكسجين", "أوزميوم"],
                    answer: 2
                },
                {
                    question: "في أي عام هبط الإنسان على سطح القمر لأول مرة؟",
                    options: ["1965", "1969", "1972", "1975"],
                    answer: 1
                },
                {
                    question: "ما هو أطول نهر في العالم؟",
                    options: ["النيل", "الأمازون", "الميسيسيبي", "يانغتسي"],
                    answer: 0
                },
                {
                    question: "ما هو العضو المسؤول عن ضخ الدم في جسم الإنسان؟",
                    options: ["الرئتين", "الكبد", "القلب", "الدماغ"],
                    answer: 2
                },
                {
                    question: "ما هي اللغة الرسمية في البرازيل؟",
                    options: ["الإسبانية", "الإنجليزية", "البرتغالية", "الفرنسية"],
                    answer: 2
                },
                {
                    question: "من رسم لوحة 'الموناليزا'؟",
                    options: ["فان جوخ", "بيكاسو", "ليوناردو دافنشي", "ميكيلانجيلو"],
                    answer: 2
                },
                {
                    question: "ما هو أصغر قارة في العالم؟",
                    options: ["أوروبا", "أستراليا", "أنتاركتيكا", "أمريكا الجنوبية"],
                    answer: 1
                }
            ],
            science: [
                {
                    question: "ما هو العنصر الأكثر وفرة في الكون؟",
                    options: ["الهيدروجين", "الهيليوم", "الأكسجين", "الكربون"],
                    answer: 0
                },
                {question: "ما هي سرعة الضوء في الفراغ؟",
                    options: ["300,000 كم/ث", "150,000 كم/ث", "500,000 كم/ث", "1,000,000 كم/ث"],
                    answer: 0
                },
                {
                    question: "ما هو أصغر جزء في المادة يمكن أن يدخل في تفاعل كيميائي؟",
                    options: ["الجزيء", "الذرة", "الإلكترون", "النيوترون"],
                    answer: 1
                },
                {
                    question: "ما هو المرض الذي يسببه فيروس نقص المناعة البشرية؟",
                    options: ["الملاريا", "الإيدز", "السل", "الكوليرا"],
                    answer: 1
                },
                {
                    question: "ما هو الغاز المسؤول عن ظاهرة الاحتباس الحراري؟",
                    options: ["الأكسجين", "الهيدروجين", "ثاني أكسيد الكربون", "النيتروجين"],
                    answer: 2
                },
                {
                    question: "ما هو العدد الذري للكربون؟",
                    options: ["6", "8", "12", "14"],
                    answer: 0
                },
                {
                    question: "ما هو الجهاز الذي يستخدم لقياس الزلازل؟",
                    options: ["البارومتر", "المرسمة", "السيسموجراف", "المقياس الحراري"],
                    answer: 2
                },
                {
                    question: "ما هو المرض الذي ينتج عن نقص فيتامين C؟",
                    options: ["الكساح", "الأسقربوط", "الأنيميا", "البري بري"],
                    answer: 1
                },
                {
                    question: "ما هو أقرب نجم إلى الأرض؟",
                    options: ["الشمس", "القيطارس", "سيريوس", "النسر الواقع"],
                    answer: 0
                },
                {
                    question: "ما هو اسم العملية التي تنتج بها النباتات غذائها؟",
                    options: ["التنفس", "التمثيل الضوئي", "التبخر", "التخمر"],
                    answer: 1
                }
            ],
            history: [
                {
                    question: "في أي عام اندلعت الحرب العالمية الأولى؟",
                    options: ["1912", "1914", "1916", "1918"],
                    answer: 1
                },
                {
                    question: "من كان أول رئيس للولايات المتحدة الأمريكية؟",
                    options: ["توماس جيفرسون", "جون آدامز", "جورج واشنطن", "أبراهام لينكولن"],
                    answer: 2
                },
                {
                    question: "أين بنيت الأهرامات؟",
                    options: ["العراق", "المكسيك", "مصر", "اليونان"],
                    answer: 2
                },
                {
                    question: "من اكتشف أمريكا؟",
                    options: ["كريستوفر كولومبوس", "فاسكو دي غاما", "فرديناند ماجلان", "جيمس كوك"],
                    answer: 0
                },
                {
                    question: "في أي عام سقط جدار برلين؟",
                    options: ["1987", "1989", "1991", "1993"],
                    answer: 1
                },
                {
                    question: "من كان أول إنسان يسير على سطح القمر؟",
                    options: ["باز ألدرين", "نيل أرمسترونغ", "مايكل كولينز", "يوري غاغارين"],
                    answer: 1
                },
                {
                    question: "أين وقعت الثورة الصناعية أولاً؟",
                    options: ["الولايات المتحدة", "ألمانيا", "فرنسا", "بريطانيا"],
                    answer: 3
                },
                {
                    question: "من هو الفرعون المصري الذي بنى الهرم الأكبر؟",
                    options: ["خوفو", "خفرع", "أمنحتب", "رمسيس"],
                    answer: 0
                },
                {
                    question: "في أي عام انتهت الحرب العالمية الثانية؟",
                    options: ["1943", "1945", "1947", "1949"],
                    answer: 1
                },
                {
                    question: "من كان مؤسس الإمبراطورية المغولية؟",
                    options: ["جنكيز خان", "قوبلاي خان", "تيمورلنك", "أتيلا الهوني"],
                    answer: 0
                }
            ],
            geography: [
                {
                    question: "ما هي أكبر قارة في العالم؟",
                    options: ["أفريقيا", "أمريكا الشمالية", "آسيا", "أوروبا"],
                    answer: 2
                },
                {
                    question: "ما هي أعلى قمة جبل في العالم؟",
                    options: ["كليمنجارو", "إفرست", "كينابالو", "أكونكاجوا"],
                    answer: 1
                },
                {
                    question: "ما هو أكبر محيط في العالم؟",
                    options: ["المحيط الأطلسي", "المحيط الهندي", "المحيط الهادئ", "المحيط المتجمد الشمالي"],
                    answer: 2
                },
                {
                    question: "ما هي أكبر دولة في العالم من حيث المساحة؟",
                    options: ["كندا", "الولايات المتحدة", "الصين", "روسيا"],
                    answer: 3
                },
                {
                    question: "ما هي عاصمة أستراليا؟",
                    options: ["سيدني", "ملبورن", "كانبرا", "بريزبان"],
                    answer: 2
                },
                {
                    question: "ما هو أطول نهر في أفريقيا؟",
                    options: ["الكونغو", "النيجر", "النيل", "الزامبيزي"],
                    answer: 2
                },
                {
                    question: "ما هي الدولة التي تعرف باسم 'أرض الشمس المشرقة'؟",
                    options: ["الصين", "اليابان", "كوريا الجنوبية", "تايلاند"],
                    answer: 1
                },
                {
                    question: "ما هي أصغر دولة في العالم؟",
                    options: ["موناكو", "ناورو", "الفاتيكان", "سان مارينو"],
                    answer: 2
                },
                {
                    question: "ما هو المضيق الذي يربط بين البحر الأحمر وخليج عدن؟",
                    options: ["مضيق جبل طارق", "مضيق هرمز", "مضيق ملقا", "مضيق باب المندب"],
                    answer: 3
                },
                {
                    question: "ما هي أكبر صحراء في العالم؟",
                    options: ["الصحراء الكبرى", "صحراء غوبي", "صحراء الربع الخالي", "صحراء أنتاركتيكا"],
                    answer: 0
                }
            ]
        };
        const appState = {
            currentSection: 'welcome-section',
            selectedCategory: null,
            currentQuestionIndex: 0,
            userAnswers: [],
            timer: null,
            timeLeft: 60,
            quizStarted: false
        };
        const sections = document.querySelectorAll('.section');
        const startBtn = document.getElementById('start-btn');
        const categoryCards = document.querySelectorAll('.category-card');
        const backToWelcomeBtn = document.getElementById('back-to-welcome');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const restartBtn = document.getElementById('restart-btn');
        const homeResultsBtn = document.getElementById('home-results-btn');
        const homeAboutBtn = document.getElementById('home-about-btn');
        const homeLink = document.getElementById('home-link');
        const aboutLink = document.getElementById('about-link');
        const contactLink = document.getElementById('contact-link');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionEl = document.getElementById('current-question');
        const questionCounter = document.getElementById('question-counter');
        const totalQuestions = document.getElementById('total-questions');
        const categoryName = document.getElementById('category-name');
        const progressBar = document.getElementById('progress-bar');
        const timerEl = document.getElementById('timer');
        const finalScore = document.getElementById('final-score');
        const resultMessage = document.getElementById('result-message');
        const resultDescription = document.getElementById('result-description');
        const correctAnswersEl = document.getElementById('correct-answers');
        const wrongAnswersEl = document.getElementById('wrong-answers');

        function showSection(sectionId) {
            sections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            appState.currentSection = sectionId;
        }
        function startQuiz(category) {
            appState.selectedCategory = category;
            appState.currentQuestionIndex = 0;
            appState.userAnswers = [];
            appState.timeLeft = 60;
            appState.quizStarted = true;
            const categoryNames = {
                general: 'المعلومات العامة',
                science: 'العلوم',
                history: 'التاريخ',
                geography: 'الجغرافيا'
            };
            categoryName.textContent = categoryNames[category];
            
            totalQuestions.textContent = quizData[category].length;
            startTimer();
            displayQuestion();
            showSection('quiz-section');
        }
        function startTimer() {
            clearInterval(appState.timer);
            updateTimerDisplay();
            
            appState.timer = setInterval(() => {
                appState.timeLeft--;
                updateTimerDisplay();
                
                if (appState.timeLeft <= 0) {
                    clearInterval(appState.timer);
                    submitQuiz();
                }
            }, 1000);
        }
        function updateTimerDisplay() {
            const minutes = Math.floor(appState.timeLeft / 60);
            const seconds = appState.timeLeft % 60;
            timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            if (appState.timeLeft <= 10) {
                timerEl.style.color = 'var(--danger-color)';
            } else if (appState.timeLeft <= 30) {
                timerEl.style.color = 'var(--accent-color)';
            } else {
                timerEl.style.color = 'var(--accent-color)';
            }
        }
        function displayQuestion() {
            const question = quizData[appState.selectedCategory][appState.currentQuestionIndex];
            currentQuestionEl.textContent = appState.currentQuestionIndex + 1;
            questionCounter.textContent = appState.currentQuestionIndex + 1;
            questionText.textContent = question.question;
            const progress = ((appState.currentQuestionIndex + 1) / quizData[appState.selectedCategory].length) * 100;
            progressBar.style.width = `${progress}%`;
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                if (appState.userAnswers[appState.currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            prevBtn.disabled = appState.currentQuestionIndex === 0;
            
            if (appState.currentQuestionIndex === quizData[appState.selectedCategory].length - 1) {
                nextBtn.classList.add('d-none');
                submitBtn.classList.remove('d-none');
            } else {
                nextBtn.classList.remove('d-none');
                submitBtn.classList.add('d-none');
            }
        }
        function selectOption(optionIndex) {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelectorAll('.quiz-option')[optionIndex].classList.add('selected');
            appState.userAnswers[appState.currentQuestionIndex] = optionIndex;
        }
        function nextQuestion() {
            if (appState.currentQuestionIndex < quizData[appState.selectedCategory].length - 1) {
                appState.currentQuestionIndex++;
                displayQuestion();
            }
        }
        function prevQuestion() {
            if (appState.currentQuestionIndex > 0) {
                appState.currentQuestionIndex--;
                displayQuestion();
            }
        }
        function submitQuiz() {
            clearInterval(appState.timer);
            let correctCount = 0;
            quizData[appState.selectedCategory].forEach((question, index) => {
                if (appState.userAnswers[index] === question.answer) {
                    correctCount++;
                }
            });
            
            const totalQuestions = quizData[appState.selectedCategory].length;
            const score = `${correctCount}/${totalQuestions}`;
            finalScore.textContent = score;
            correctAnswersEl.textContent = correctCount;
            wrongAnswersEl.textContent = totalQuestions - correctCount;
            let message, description;
            const percentage = (correctCount / totalQuestions) * 100;
            
            if (percentage >= 90) {
                message = "أداء متميز!";
                description = "مبروك! لقد أظهرت معرفة استثنائية في هذا المجال.";
            } else if (percentage >= 70) {
                message = "أداء جيد جداً!";
                description = "أحسنت! لديك معرفة جيدة في هذا المجال.";
            } else if (percentage >= 50) {
                message = "أداء مقبول";
                description = "ليس سيئاً، ولكن يمكنك تحسين معرفتك أكثر.";
            } else {
                message = "يحتاج إلى تحسين";
                description = "لا تقلق، استمر في التعلم وستتحسن نتائجك.";
            }
            
            resultMessage.textContent = message;
            resultDescription.textContent = description;
            showSection('results-section');
        }
        function restartQuiz() {
            startQuiz(appState.selectedCategory);
        }

        startBtn.addEventListener('click', () => showSection('category-section'));
        
        categoryCards.forEach(card => {
            card.addEventListener('click', () => {
                const category = card.getAttribute('data-category');
                startQuiz(category);
            });
        });
        

        backToWelcomeBtn.addEventListener('click', () => showSection('welcome-section'));
        prevBtn.addEventListener('click', prevQuestion);
        nextBtn.addEventListener('click', nextQuestion);
        submitBtn.addEventListener('click', submitQuiz);
        restartBtn.addEventListener('click', restartQuiz);
        homeResultsBtn.addEventListener('click', () => showSection('welcome-section'));
        homeAboutBtn.addEventListener('click', () => showSection('welcome-section'));


        homeLink.addEventListener('click', (e) => {
            e.preventDefault();
            showSection('welcome-section');
        });
        aboutLink.addEventListener('click', (e) => {
            e.preventDefault();
            showSection('about-section');
        });
        contactLink.addEventListener('click', (e) => {
            e.preventDefault();
            alert("للتواصل معنا، يرجى إرسال بريد إلكتروني إلى: bashardagher8@gmail.com");
        });
